@startuml

participant cerebrum
participant control_system
participant image_system
participant sound_system
actor customer


cerebrum -> control_system: order to begin mapping

group Start ( judge left or right )
    cerebrum -> control_system: order to judge left or right
    control_system --> cerebrum: recieve data left or right
    cerebrum -> sound_system: order to speak data and reason
    sound_system --> cerebrum: recieve data fail or success
end


group Calling ( detect ordering human )
    cerebrum -> sound_system: detect customer's voice and certinaly angular
    customer -> sound_system: call 'hey ducker, take the order'
    sound_system --> cerebrum: recieve angular data
    cerebrum -> control_system: order to rotate
    control_system --> cerebrum: recieve data fail or success
    cerebrum -> image_system: pose detection(catch wavinghand's action) and get depth data from realsense
    image_system --> cerebrum: recieve position and calcurate abstruct position
    cerebrum -> control_system: order to edit a position customer
    control_system --> cerebrum: recieve data fail or success
end


group move to customer
    cerebrum -> control_system: go forward
    cerebrum -> control_system: mapping
    image_system -> cerebrum: return distance 
    control_system -> cerebrum: return distance
end


group get order
    cerebrum -> sound_system: speak
    cerebrum -> sound_system: listen order
    sound_system -> cerebrum: order list
end


group return counter
    cerebrum -> control_system :move by mapping
end


group close arm
    cerebrum ->sound_system : listen
    cerebrum ->control_system : close arm
end


group deliver object
    cerebrum -> control_system :move by mapping
end


group hand over order
    cerebrum -> control_system : hand over
    cerebrum -> sound_system : speak order 
end


@enduml
